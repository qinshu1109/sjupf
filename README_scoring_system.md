# 电商数据智能评分系统 - 独立Web应用

## 🎯 系统概述

电商数据智能评分系统是一个专业的商品筛选和评分工具，通过8大评分算法和节日模式感知技术，从海量电商数据中智能筛选出TOP50高价值商品。

## 📦 系统组成

### 核心文件
- **scoring_app.py** - Streamlit Web应用主文件
- **score_select.py** - 核心评分算法脚本
- **start_scoring.sh** - 应用启动脚本
- **test_score_select.py** - 功能测试脚本
- **test_data_sample.csv** - 测试数据样例

### 支持文件
- **README_score_select.md** - 详细技术文档
- **README_scoring_system.md** - 本文档

## 🚀 快速启动

### 方法一：使用启动脚本（推荐）
```bash
# 启动评分系统
./start_scoring.sh

# 检查环境状态
./start_scoring.sh --check

# 查看帮助信息
./start_scoring.sh --help
```

### 方法二：手动启动
```bash
# 激活虚拟环境
source ~/douyin_cleaner_env/bin/activate

# 启动应用
streamlit run scoring_app.py --server.port=8510
```

## 🎯 功能特性

### ✅ 8大评分算法
1. **长尾截断算法** - 99分位截断 + 对数标准化
2. **Commission分段评分** - 四段式佣金激励机制
3. **余弦衰减算法** - 达人影响力评分
4. **指数衰减算法** - 排名位置价值评分
5. **增长潜力评分** - 基于增长率的动态评估
6. **渠道分布评分** - 多渠道平衡性评估
7. **转化率过滤** - 质量门槛过滤机制
8. **节日感知算法** - 智能权重调整

### ✅ 节日模式感知
- **自动检测** - 距离下一节日≤45天自动启用
- **权重调整** - sales_7d权重+2%，销量榜基础分+2%
- **内置节日** - 元旦、情人节、妇女节、儿童节、中秋、国庆、圣诞

### ✅ Web界面特性
- **多文件上传** - 支持CSV/XLSX批量处理
- **实时进度** - 处理进度可视化
- **结果展示** - TOP50排行榜表格显示
- **数据下载** - CSV格式结果下载

## 📊 使用流程

### 1. 数据准备
确保数据文件包含19个标准字段：
```
product_name, product_url, category_l1, commission,
sales_7d, gmv_7d, sales_30d, gmv_30d,
live_gmv_30d, live_gmv_7d, card_gmv_30d,
sales_1y, conv_30d, rank_type, rank_no,
influencer_7d, snapshot_tag, file_date, data_period
```

### 2. 启动应用
```bash
./start_scoring.sh
```

### 3. 使用Web界面
1. **上传文件** - 在侧边栏上传CSV/XLSX文件
2. **配置选项** - 选择是否启用节日加权
3. **开始评分** - 点击"开始评分"按钮
4. **查看结果** - 查看TOP50商品排行榜
5. **下载结果** - 下载CSV格式评分结果

## 🔧 技术规格

### 系统要求
- **操作系统** - Linux/Ubuntu
- **Python版本** - 3.8+
- **虚拟环境** - douyin_cleaner_env
- **端口范围** - 8510-8515

### 依赖包
- streamlit ≥1.30
- pandas
- numpy
- openpyxl

### 性能指标
- **文件格式** - CSV/XLSX自动识别
- **编码支持** - UTF-8/GBK/GB2312自动检测
- **处理能力** - 支持大文件批量处理
- **输出格式** - 标准CSV，UTF-8编码

## 🧪 测试验证

### 快速测试
```bash
# 运行功能测试
python test_score_select.py
```

### 测试内容
- ✅ 基本评分算法测试
- ✅ 节日模式检测测试
- ✅ 权重调整验证
- ✅ 文件处理测试
- ✅ 输出格式检查

## 🔄 与其他工具的关系

### 独立性保证
本评分系统与现有工具完全独立：

1. **抖音电商数据清洗工具**
   - 启动脚本：start_app.sh
   - 应用文件：app.py
   - 功能：数据清洗和标准化
   - 端口：8507-8509

2. **数据炼金工坊**
   - 启动脚本：start.sh
   - 功能：数据处理工坊
   - 状态：独立运行

3. **电商数据智能评分系统**（本系统）
   - 启动脚本：start_scoring.sh
   - 应用文件：scoring_app.py
   - 功能：智能评分和TOP50筛选
   - 端口：8510-8515

### 工作流程建议
```
原始数据 → 数据清洗工具 → 清洗后数据 → 评分系统 → TOP50结果
```

## 📈 业务价值

### 应用场景
- **商品选品** - 从海量商品中筛选高价值商品
- **营销决策** - 基于多维度评分制定营销策略
- **节日备货** - 节日模式自动调整选品权重
- **竞争分析** - 综合评估商品竞争力

### 核心优势
- **科学评分** - 8大算法综合评估
- **智能感知** - 节日模式自动适应
- **高效处理** - 批量文件快速处理
- **结果可靠** - 去重排序确保质量

## 🔧 故障排除

### 常见问题

**1. 启动失败**
```bash
# 检查环境
./start_scoring.sh --check

# 确认虚拟环境存在
ls ~/douyin_cleaner_env/
```

**2. 端口冲突**
- 系统自动检测8510-8515端口
- 如全部占用，请关闭其他应用

**3. 文件上传失败**
- 检查文件格式（CSV/XLSX）
- 确认包含19个必需字段
- 验证文件编码

**4. 评分结果异常**
- 检查转化率数据（≥2%过滤）
- 验证数值字段格式
- 确认日期字段正确

### 日志查看
应用运行时会在终端显示详细日志：
- 文件处理进度
- 节日模式状态
- 评分统计信息
- 错误提示信息

## 📞 技术支持

### 获取帮助
```bash
# 查看启动脚本帮助
./start_scoring.sh --help

# 查看详细文档
cat README_score_select.md
```

### 问题反馈
如遇问题请提供：
1. 错误信息截图
2. 输入数据样例
3. 系统环境信息
4. 操作步骤描述

---

**开发团队**: 数据过滤专家  
**技术栈**: Python + Streamlit + pandas + numpy  
**版本**: v1.0.0  
**更新日期**: 2024-12-22
